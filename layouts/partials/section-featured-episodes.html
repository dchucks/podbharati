{{range .Site.Pages}}
<!--<li>Section: {{.Section}}, Type: {{.Type}} - <a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a></li>-->
{{ end }}

{{ $TypesNeeded := slice "episode" }}

<!-- begin featured-post -->
<section class="section featured-post animate">
    <div class="container">
        <div class="section__inner">

            <h2 class="screen-reader-text">Featured Episodes</h2>
            <div class="row">

                <div class="col col-3 col-d-12">
                    <div class="row">
                        {{ $counter := 0 }}
                        {{ range (where (where .Site.Pages.ByDate.Reverse "Type" "in" $TypesNeeded) ".Params.featured" "=" true) }}
                        {{ $counter = add $counter 1 }}
                        {{ if le $counter 2 }}
                        <div class="col col-12 col-d-6 col-t-12">
                            {{ partial "article.html" (dict "context" .) }}
                        </div>
                        {{ end }}
                        {{ end }}
                    </div>
                </div>

                <div class="col col-6 col-d-12">
                    <div class="row">
                        {{ $counter := 0 }}
                        {{ range (where (where .Site.Pages.ByDate.Reverse "Type" "in" $TypesNeeded) ".Params.featured" "=" true) }}
                        {{ $counter = add $counter 1 }}
                        {{ if eq $counter 3 }}
                        <div class="col col-12 col-t-12">
                            {{ partial "article.html" (dict "context" . "class" "article--big") }}
                        </div>
                        {{ end }}
                        {{ end }}
                    </div>
                </div>

                <div class="col col-3 col-d-12">
                    <div class="row">
                        {{ $counter := 0 }}
                        {{ range (where (where .Site.Pages.ByDate.Reverse "Type" "in" $TypesNeeded) ".Params.featured" "=" true) }}
                        {{ $counter = add $counter 1 }}
                        {{ if and (ge $counter 4) (le $counter 5) }}
                        <div class="col col-12 col-d-6 col-t-12">
                            {{ partial "article.html" (dict "context" .) }}
                        </div>
                        {{ end }}
                        {{ end }}
                    </div>
                </div>

            </div>

        </div>
    </div>
</section>
<!-- end featured-post -->